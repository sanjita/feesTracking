<div class="d-flex" id="wrapper" [class.toggled]="isSidebarCollapsed">
  <!-- Sidebar -->
  <div class="bg-dark text-white sidebar p-3" id="sidebar">
    <h4 class="text-center mb-4">Fees Tracker</h4>
    <ul class="nav flex-column">
      <li class="nav-item mb-2">
        <a class="nav-link text-white active" routerLink="/dashboard">
          <i class="bi bi-speedometer2 me-2"></i> Dashboard
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" routerLink="/masterlist">
          <i class="bi bi-people me-2"></i> Master
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" routerLink="/packageM">
          <i class="bi bi-people me-2"></i> Package
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" routerLink="/institute">
          <i class="bi bi-people me-2"></i> Institutes
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" routerLink="/branch">
          <i class="bi bi-book me-2"></i> branch
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" routerLink="/course">
          <i class="bi bi-book me-2"></i> Courses
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="#">
          <i class="bi bi-wallet2 me-2"></i> Fees
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-white" href="#">
          <i class="bi bi-box-arrow-right me-2"></i> Logout
        </a>
      </li>
    </ul>
  </div>

  <!-- Page Content -->
  <div id="page-content-wrapper" class="flex-grow-1 bg-light">
    <!-- Top Navbar -->
    <nav class="navbar navbar-light bg-white shadow-sm px-3">
      <button class="btn btn-outline-primary" (click)="toggleSidebar()">
        <i class="bi bi-list fs-5"></i>
      </button>
      <h5 class="ms-3 mb-0 fw-bold text-primary">Dashboard</h5>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
      <h4 class="text-center mb-4">Course Management</h4>

      <!-- Course Form -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <form class="row g-3">
            <div class="col-md-4">
              <input type="text" class="form-control" placeholder="Course Name" [(ngModel)]="courseData.courseName"
                name="courseName">
            </div>
            <div class="col-md-3">
              <input type="text" class="form-control" placeholder="Duration" [(ngModel)]="courseData.duration"
                name="duration">
            </div>
            <div class="col-md-3">
              <select class="form-select" [(ngModel)]="courseData.instituteId" name="instituteId"
                >
                <option [ngValue]="0">Select Institute</option>
                @for (item of institutes; track item.id) {
<option [ngValue]="item.id">{{ item.name }}</option>
                }
              </select>
            </div>
            <div class="col-md-2">
              <button type="button" class="btn btn-primary w-100" (click)="saveCourse()">
                {{ editMode ? 'Update' : 'Add' }}
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Course Cards -->



      <div class="row">
        @for (c of courses; track $index) {

        <div class="col-md-4 mb-3">
          <div class="card border-0 shadow-sm h-100">
            <div class="card-body">
              <h5 class="card-title text-primary">{{ c.courseName }}</h5>
              <p class="card-text mb-1"><strong>Duration:</strong> {{ c.duration }}</p>
              <p class="card-text"><strong>Institute ID:</strong> {{ c.instituteId }}</p>
            </div>
            <div class="card-footer bg-light text-end">
              <button class="btn btn-sm btn-outline-success me-2" (click)="editCourse(c)">Edit</button>
              <button class="btn btn-sm btn-outline-danger" (click)="deleteCourse(c.instituteId!)">Delete</button>
            </div>
          </div>
        </div>}
      </div>
    </div>

  </div>