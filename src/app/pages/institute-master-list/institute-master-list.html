<div class="d-flex" id="wrapper" [class.toggled]="isSidebarCollapsed">
  <!-- Sidebar -->
  <div class="bg-dark text-white sidebar p-3" id="sidebar">
    <h4 class="text-center mb-4">Fees Tracker</h4>
    <ul class="nav flex-column">
      <li class="nav-item mb-2">
        <a class="nav-link text-white active" routerLink="/dashboard" >
          <i class="bi bi-speedometer2 me-2"></i> Dashboard
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" routerLink="/masterlist">
          <i class="bi bi-people me-2"></i> Master
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" routerLink="/instmaster">
          <i class="bi bi-people me-2"></i> InstituteMaster
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="#">
          <i class="bi bi-people me-2"></i> Students
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="#">
          <i class="bi bi-book me-2"></i> Courses
        </a>
      </li>
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="#">
          <i class="bi bi-wallet2 me-2"></i> Fees
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-white" href="#">
          <i class="bi bi-box-arrow-right me-2"></i> Logout
        </a>
      </li>
    </ul>
  </div>

  <!-- Page Content -->
  <div id="page-content-wrapper" class="flex-grow-1 bg-light">
    <!-- Top Navbar -->
    <nav class="navbar navbar-light bg-white shadow-sm px-3">
      <button class="btn btn-outline-primary" (click)="toggleSidebar()">
        <i class="bi bi-list fs-5"></i>
      </button>
      <h5 class="ms-3 mb-0 fw-bold text-primary">Dashboard</h5>
    </nav>

<form [formGroup]="packageForm" (ngSubmit)="onSubmit()" class="card p-3 mb-4 shadow-sm">
    <div class="row">
      <div class="col-md-5">
        <label class="form-label">PackageName</label>
        <input type="text" formControlName="packageName" class="form-control" placeholder="e.g. PaymentMode" />
      </div>
       <div class="col-md-5">
        <label class="form-label">OneTimeTotalCost</label>
        <input type="number" formControlName="oneTimeTotalCost" class="form-control" placeholder="e.g. PaymentMode" />
      </div>
       <div class="col-md-5">
        <label class="form-label">EmiTotalCost</label>
        <input type="text" formControlName="emiTotalCost" class="form-control" placeholder="e.g. PaymentMode" />
      </div>
       <div class="col-md-5">
        <label class="form-label">MaxBranches</label>
        <input type="text" formControlName="maxBranches" class="form-control" placeholder="e.g. PaymentMode" />
      </div>
      <div class="col-md-5">
        <label class="form-label">MaxStudents</label>
        <input type="text" formControlName="maxStudents" class="form-control" placeholder="e.g. By Cash" />
      </div>
      <div class="col-md-2 d-flex align-items-end">
        <button type="submit" class="btn btn-primary w-100">
          {{ editMode ? 'Update' : 'Add' }}
        </button>
      </div>
    </div>
    <div class="text-end mt-2">
        @if (editMode ) {
      <button type="button" class="btn btn-secondary btn-sm" (click)="cancelEdit()">Cancel</button>
        }</div>
  </form>


    <!-- Main Content -->
<!-- Table -->
  <div class="container mt-4">
<div class="row g-3">
    @for (packg of Allpakages; track $index) {
        <div class="col-md-4">
<div class="card" style="width: 18rem;">
  <div class="card-body">
    <h5 class="card-title">PackageName::{{packg.packageName}}</h5>
    <h6 class="card-subtitle mb-2 text-muted">oneTimeTotalCost:: INR {{packg.oneTimeTotalCost}}</h6>
    
    <div class="card-text">
        <span>EmiTotalCost::INR {{packg.emiTotalCost}}</span>
        ||<span>MaxBranches::{{packg.maxBranches}}</span>||

        <span>MaxStudents::{{packg.packageId}}</span>
      </div>
 <button class="btn btn-sm btn-warning me-2" (click)="updatepkgMaster(packg)">Edit</button>
            <button class="btn btn-sm btn-danger" (click)="deletepkgMaster(packg.packageId)">Delete</button>
  </div>
</div></div>}


   </div>
  </div></div>
</div>
